TODOS:
- should the 4_th click be counted as the 3_rd click or the first on a new series. 
- make the calculation of each state generic (take out the binary function)
- create an interface of machineService for the controller (not work directly just with the specific service)
- create has between the type in the event to the real class by a hash 